{% extends "layout.html" %}

{% block content %}
<div class="row">
        <div class="col-md-10 offset-md-1">
                <div class="card">
                        <div class="card-header bg-primary text-white">
                                <h3 class="card-title mb-0"><i class="fas fa-stethoscope mr-2"></i>Comprehensive Health
                                        Assessment</h3>
                        </div>
                        <div class="card-body">
                                <p class="text-muted mb-4">Enter your health metrics below. Our AI analyzes these
                                        factors to predict risks for various conditions including Diabetes,
                                        Hypertension, Heart Disease, and more.</p>

                                <form action="{{ url_for('predict_result') }}" method="POST">
                                        <h5 class="text-primary mb-3">1. Demographics & Vitals</h5>
                                        <div class="row">
                                                <div class="col-md-4 form-group">
                                                        <label>Age</label>
                                                        <input type="number" class="form-control" name="age"
                                                                value="{{ patient['Age'] if patient else 30 }}"
                                                                required>
                                                </div>
                                                <div class="col-md-4 form-group">
                                                        <label>Gender</label>
                                                        <select class="form-control" name="gender" required>
                                                                <option value="Male" {% if patient and
                                                                        patient['Gender']=='Male' %}selected{% endif %}>
                                                                        Male</option>
                                                                <option value="Female" {% if patient and
                                                                        patient['Gender']=='Female' %}selected{% endif
                                                                        %}>Female</option>
                                                        </select>
                                                </div>
                                                <div class="col-md-4 form-group">
                                                        <label>BMI (Body Mass Index)</label>
                                                        <input type="number" step="0.1" class="form-control" name="bmi"
                                                                value="25.0" required>
                                                        <small class="form-text text-muted">Normal: 18.5 - 24.9</small>
                                                </div>
                                        </div>

                                        <div class="row">
                                                <div class="col-md-6 form-group">
                                                        <label>Blood Pressure (Systolic)</label>
                                                        <input type="number" class="form-control" name="bp_sys"
                                                                value="120" required>
                                                        <small class="form-text text-muted">Top number (e.g.,
                                                                120)</small>
                                                </div>
                                                <div class="col-md-6 form-group">
                                                        <label>Blood Pressure (Diastolic)</label>
                                                        <input type="number" class="form-control" name="bp_dia"
                                                                value="80" required>
                                                        <small class="form-text text-muted">Bottom number (e.g.,
                                                                80)</small>
                                                </div>
                                        </div>

                                        <h5 class="text-primary mb-3 mt-3">2. Lab Results</h5>
                                        <div class="row">
                                                <div class="col-md-6 form-group">
                                                        <label>Fasting Glucose (mg/dL)</label>
                                                        <input type="number" class="form-control" name="glucose"
                                                                value="100" required>
                                                        <small class="form-text text-muted">Normal < 100 mg/dL</small>
                                                </div>
                                                <div class="col-md-6 form-group">
                                                        <label>Total Cholesterol (mg/dL)</label>
                                                        <input type="number" class="form-control" name="chol"
                                                                value="200" required>
                                                        <small class="form-text text-muted">Desirable < 200
                                                                        mg/dL</small>
                                                </div>
                                        </div>

                                        <h5 class="text-primary mb-3 mt-3">3. Lifestyle & History</h5>
                                        <div class="row">
                                                <div class="col-md-3 form-group">
                                                        <label>Smoking Status</label>
                                                        <select class="form-control" name="smoking" required>
                                                                <option value="Never">Never</option>
                                                                <option value="Former">Former</option>
                                                                <option value="Current">Current</option>
                                                        </select>
                                                </div>
                                                <div class="col-md-3 form-group">
                                                        <label>Alcohol Intake</label>
                                                        <select class="form-control" name="alcohol" required>
                                                                <option value="None">None</option>
                                                                <option value="Moderate">Moderate</option>
                                                                <option value="High">High</option>
                                                        </select>
                                                </div>
                                                <div class="col-md-3 form-group">
                                                        <label>Physical Activity</label>
                                                        <select class="form-control" name="activity" required>
                                                                <option value="Low">Low</option>
                                                                <option value="Moderate">Moderate</option>
                                                                <option value="High">High</option>
                                                        </select>
                                                </div>
                                                <div class="col-md-3 form-group">
                                                        <label>Diet Quality</label>
                                                        <select class="form-control" name="diet" required>
                                                                <option value="Good">Good</option>
                                                                <option value="Poor">Poor</option>
                                                        </select>
                                                </div>
                                        </div>

                                        <div class="row">
                                                <div class="col-md-6 form-group">
                                                        <label>Sleep Hours (Avg/Night)</label>
                                                        <input type="number" step="0.5" class="form-control"
                                                                name="sleep" value="7.0" required>
                                                </div>
                                                <div class="col-md-6 form-group">
                                                        <label>Medical History</label>
                                                        <select class="form-control" name="family_history" required>
                                                                <option value="None">None</option>
                                                                <option value="Diabetes">Diabetes</option>
                                                                <option value="Hypertension">Hypertension</option>
                                                                <option value="HeartDisease">Heart Disease</option>
                                                                <option value="Stroke">Stroke</option>
                                                                <option value="KidneyDisease">Kidney Disease</option>
                                                                <option value="LiverDisease">Liver Disease</option>
                                                                <option value="Asthma">Asthma</option>
                                                                <option value="Multiple">Multiple Conditions</option>
                                                        </select>
                                                </div>
                                        </div>

                                        <div class="text-center mt-4">
                                                <button type="submit" class="btn btn-primary btn-lg px-5">Analyze Health
                                                        Risk</button>
                                        </div>
                                </form>
                        </div>
                </div>
        </div>
</div>
{% endblock %}